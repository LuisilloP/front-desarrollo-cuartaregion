---
import { buildWhatsAppLink } from "../lib/utils";
import { Icon } from "astro-icon/components";

interface Props {
  whatsappNumber: string;
  message?: string;
}

const { whatsappNumber, message } = Astro.props;
const whatsappUrl = buildWhatsAppLink(whatsappNumber, message ?? "Hola! Necesito una web o automatizacion.");
---

<a
  href={whatsappUrl}
  target="_blank"
  rel="noreferrer"
  class="fixed bottom-6 right-6 z-50 inline-flex items-center gap-2 px-4 py-3 rounded-full bg-[#25D366] text-white font-semibold shadow-2xl hover:scale-[1.02] transition"
  aria-label="WhatsApp"
>
  <Icon name="simple-icons:whatsapp" class="h-5 w-5 text-white" aria-hidden="true" />
</a>
