---
import BannerBase from "./BannerBase.astro";
import type {
  BannerAccentKey,
  BannerIntensity,
  BannerLayout,
  BannerLink,
  BannerSize,
  BannerTone,
  BannerVariant,
} from "./config/banner.types";

interface Props {
  sectionId?: string;
  title?: string;
  subtitle?: string;
  description?: string;
  badgeText?: string;
  badgeIcon?: string;
  primaryLink?: BannerLink;
  secondaryLink?: BannerLink;
  bullets?: string[];
  ariaLabel?: string;
  bgImage?: string;
  imageAlt?: string;
  reverse?: boolean;
  layout?: BannerLayout;
  size?: BannerSize;
  tone?: BannerTone;
  intensity?: BannerIntensity;
  accentKey?: BannerAccentKey;
  watermarkIcon?: string;
  headerIcon?: string;
  class?: string;
}

const {
  sectionId,
  title = "Tu web rapida, clara y lista para vender",
  subtitle = "Arquitectura solida para crecer sin rehacer todo",
  description = "Landing, corporativa o administrable con SEO tecnico y performance.",
  badgeText = "Desarrollo Web",
  primaryLink = { label: "Cotizar web", href: "#contacto-desarrollo" },
  secondaryLink = { label: "Ver servicios web", href: "/desarrollo#planes" },
  bullets = [
    "Diseno enfocado en conversion",
    "Carga rapida en movil y desktop",
    "Base preparada para futuras mejoras",
  ],
  ariaLabel,
  bgImage,
  imageAlt,
  reverse = false,
  layout = "split",
  size = "default",
  tone = "vivid",
  intensity = "md",
  accentKey = "auto",
  badgeIcon,
  watermarkIcon = "lucide:layout-template",
  headerIcon,
  class: className = "",
} = Astro.props as Props;

const variant: BannerVariant = "web";
const resolvedBadgeIcon = badgeIcon ?? headerIcon ?? "lucide:monitor";
---

<BannerBase
  sectionId={sectionId}
  variant={variant}
  accentKey={accentKey}
  tone={tone}
  intensity={intensity}
  layout={layout}
  reverse={reverse}
  size={size}
  badgeText={badgeText}
  title={title}
  subtitle={subtitle}
  description={description}
  bullets={bullets}
  primaryLink={primaryLink}
  secondaryLink={secondaryLink}
  ariaLabel={ariaLabel}
  bgImage={bgImage}
  imageAlt={imageAlt}
  badgeIcon={resolvedBadgeIcon}
  watermarkIcon={watermarkIcon}
  class={className}
>
  <slot name="visual" slot="visual" />
</BannerBase>

