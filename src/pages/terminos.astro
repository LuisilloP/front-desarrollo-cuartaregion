---
import Layout from "../layouts/Layout.astro";
import Footer from "../components/layout/Footer.astro";
import Navbar from "../components/layout/Navbar.astro";
import { fetchLegalPage, fetchSiteSettings } from "../lib/api/services";

const siteSettings = await fetchSiteSettings();
const legal = await fetchLegalPage("terminos");
const pageTitle = legal?.title ?? "Términos y Condiciones";
const pageDescription =
  "Condiciones de contratación, pagos y entregas para nuestros servicios digitales.";
---

<Layout
  title={pageTitle}
  description={pageDescription}
  siteSettings={siteSettings}
>
  <Navbar siteSettings={siteSettings} />
  <main class="section-shell py-16 space-y-6">
    <p class="pill w-fit bg-primary/10 border-primary/40 text-highlight">
      Legal
    </p>
    <h1 class="text-3xl sm:text-4xl font-bold text-content">
      {pageTitle}
    </h1>
    <article
      class="prose max-w-3xl text-content prose-headings:text-content prose-p:text-muted prose-a:text-highlight"
    >
      <p>
        {
          legal?.content ??
            "Actualiza esta seccion desde tu panel para mostrar terminos y condiciones vigentes."
        }
      </p>
    </article>
  </main>
  <Footer siteSettings={siteSettings} />
</Layout>
