import{j as h}from"./jsx-runtime.D_zvdyIk.js";import{r as s}from"./index.BmW6Ki2V.js";import{M as L,i as N,a as $,P as H,b as T,c as W,L as B,u as D,m as F}from"./use-reduced-motion.k_PTbmR9.js";function I(e,o){if(typeof e=="function")return e(o);e!=null&&(e.current=o)}function K(...e){return o=>{let t=!1;const c=e.map(r=>{const n=I(r,o);return!t&&typeof n=="function"&&(t=!0),n});if(t)return()=>{for(let r=0;r<c.length;r++){const n=c[r];typeof n=="function"?n():I(e[r],null)}}}}function U(...e){return s.useCallback(K(...e),e)}class A extends s.Component{getSnapshotBeforeUpdate(o){const t=this.props.childRef.current;if(t&&o.isPresent&&!this.props.isPresent){const c=t.offsetParent,r=N(c)&&c.offsetWidth||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=r-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function G({children:e,isPresent:o,anchorX:t,root:c}){const r=s.useId(),n=s.useRef(null),i=s.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:p}=s.useContext(L),C=U(n,e?.ref);return s.useInsertionEffect(()=>{const{width:a,height:m,top:l,left:f,right:g}=i.current;if(o||!n.current||!a||!m)return;const y=t==="left"?`left: ${f}`:`right: ${g}`;n.current.dataset.motionPopId=r;const d=document.createElement("style");p&&(d.nonce=p);const j=c??document.head;return j.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${m}px !important;
            ${y}px !important;
            top: ${l}px !important;
          }
        `),()=>{j.contains(d)&&j.removeChild(d)}},[o]),h.jsx(A,{isPresent:o,childRef:n,sizeRef:i,children:s.cloneElement(e,{ref:C})})}const O=({children:e,initial:o,isPresent:t,onExitComplete:c,custom:r,presenceAffectsLayout:n,mode:i,anchorX:p,root:C})=>{const a=$(V),m=s.useId();let l=!0,f=s.useMemo(()=>(l=!1,{id:m,initial:o,isPresent:t,custom:r,onExitComplete:g=>{a.set(g,!0);for(const y of a.values())if(!y)return;c&&c()},register:g=>(a.set(g,!1),()=>a.delete(g))}),[t,a,c]);return n&&l&&(f={...f}),s.useMemo(()=>{a.forEach((g,y)=>a.set(y,!1))},[t]),s.useEffect(()=>{!t&&!a.size&&c&&c()},[t]),i==="popLayout"&&(e=h.jsx(G,{isPresent:t,anchorX:p,root:C,children:e})),h.jsx(H.Provider,{value:f,children:e})};function V(){return new Map}const v=e=>e.key||"";function _(e){const o=[];return s.Children.forEach(e,t=>{s.isValidElement(t)&&o.push(t)}),o}const X=({children:e,custom:o,initial:t=!0,onExitComplete:c,presenceAffectsLayout:r=!0,mode:n="sync",propagate:i=!1,anchorX:p="left",root:C})=>{const[a,m]=T(i),l=s.useMemo(()=>_(e),[e]),f=i&&!a?[]:l.map(v),g=s.useRef(!0),y=s.useRef(l),d=$(()=>new Map),[j,k]=s.useState(l),[R,P]=s.useState(l);W(()=>{g.current=!1,y.current=l;for(let x=0;x<R.length;x++){const u=v(R[x]);f.includes(u)?d.delete(u):d.get(u)!==!0&&d.set(u,!1)}},[R,f.length,f.join("-")]);const w=[];if(l!==j){let x=[...l];for(let u=0;u<R.length;u++){const b=R[u],E=v(b);f.includes(E)||(x.splice(u,0,b),w.push(b))}return n==="wait"&&w.length&&(x=w),P(_(x)),k(l),null}const{forceRender:z}=s.useContext(B);return h.jsx(h.Fragment,{children:R.map(x=>{const u=v(x),b=i&&!a?!1:l===R||f.includes(u),E=()=>{if(d.has(u))d.set(u,!0);else return;let M=!0;d.forEach(S=>{S||(M=!1)}),M&&(z?.(),P(y.current),i&&m?.(),c&&c())};return h.jsx(O,{isPresent:b,initial:!g.current||t?void 0:!1,custom:o,presenceAffectsLayout:r,mode:n,root:C,onExitComplete:b?void 0:E,anchorX:p,children:x},u)})})},Y=({slides:e,intervalMs:o=7e3,transitionMs:t=1200,className:c=""})=>{const r=D(),n=e&&e.length>0,i=s.useMemo(()=>n?e:[],[n,e]),[p,C]=s.useState(0),a=s.useRef(!0);if(s.useEffect(()=>{if(!i.length||r)return;const l=window.setInterval(()=>{C(f=>(f+1)%i.length)},o);return()=>window.clearInterval(l)},[i.length,o,r]),s.useEffect(()=>{a.current=!1},[]),!i.length)return null;const m=i[p]??i[0];return h.jsxs("div",{className:`absolute inset-0 -z-10 overflow-hidden pointer-events-none isolate ${c}`,"aria-hidden":"true",children:[h.jsx(X,{children:!r&&h.jsx(F.img,{src:m.src,alt:m.alt??"",className:"absolute inset-0 h-full w-full object-cover",style:{objectPosition:m.position??"center"},initial:a.current?{opacity:1,scale:1,x:0}:{opacity:0,scale:1.01,x:10},animate:{opacity:1,scale:1,x:0},exit:{opacity:0,scale:.995,x:-10},transition:{duration:t/1e3,ease:"easeInOut"},loading:p===0?"eager":"lazy",decoding:p===0?"sync":"async",fetchPriority:p===0?"high":"auto"},m.src+p)}),r&&h.jsx("img",{src:i[0].src,alt:i[0].alt??"",className:"absolute inset-0 h-full w-full object-cover",style:{objectPosition:i[0].position??"center"},loading:"eager",decoding:"sync",fetchPriority:"high"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-secondary/85 via-secondary/60 to-secondary/30"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/30 via-transparent to-transparent"}),h.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_18%_25%,rgba(59,130,246,0.18),transparent_40%),radial-gradient(circle_at_78%_10%,rgba(14,165,233,0.16),transparent_36%)]"})]})};export{Y as default};
